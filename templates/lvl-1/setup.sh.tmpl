#!/bin/sh


PASSWORD=${PASSWORD:-1234567890}
# we can override the default token tickers as cli args
STAKE=${1:-ustake}
FEE=${2:-ucosm}


aud init --chain-id=testing testing
# staking/governance token is hardcoded in config, change this
sed -i "s/\"stake\"/\"$STAKE\"/" "$HOME"/.aud/config/genesis.json
(echo $PASSWORD; echo $PASSWORD) | aucli keys add validator
# hardcode the validator account for this instance
echo $PASSWORD | aud add-genesis-account validator "1000000000$STAKE,1000000000$FEE"
# submit a genesis validator tx
(echo $PASSWORD; echo $PASSWORD; echo $PASSWORD) | aud gentx --name validator --amount "250000000$STAKE"
aud collect-gentxs 
